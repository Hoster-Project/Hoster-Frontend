@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 350 100% 61%;
    --primary-foreground: 0 0% 100%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 346.8 77.2% 49.8%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 20 14.3% 4.1%;
    --foreground: 0 0% 95%;
    --card: 24 9.8% 10%;
    --card-foreground: 0 0% 95%;
    --popover: 0 0% 9%;
    --popover-foreground: 0 0% 95%;
    --primary: 346.8 77.2% 49.8%;
    --primary-foreground: 355.7 100% 97.3%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 15%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 12 6.5% 15.1%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 85.7% 97.3%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 346.8 77.2% 49.8%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  /* Smooth scroll */
  html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-muted/30 text-foreground;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Accessibility — better focus styles */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-ring;
  }

  /* Remove default focus ring, rely on :focus-visible */
  :focus:not(:focus-visible) {
    outline: none;
  }
}

/* ─── Responsive Utilities ─────────────────────────────────── */
@layer utilities {
  /* Safe area padding for mobile devices (notch, bottom bar) */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Hide scrollbar but keep scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* ─── Micro-animations ─────────────────────────────────── */

  /* Hover elevate — subtle lift effect for interactive cards/buttons */
  .hover-elevate {
    @apply transition-all duration-200 ease-out;
  }
  .hover-elevate:hover {
    @apply -translate-y-0.5 shadow-sm;
  }

  /* Active press effect */
  .active-elevate-2:active {
    @apply translate-y-0 shadow-none;
    transition-duration: 75ms;
  }

  /* Card entrance animation */
  .animate-in-card {
    animation: cardEntrance 0.3s ease-out both;
  }

  /* Fade in up animation */
  .animate-fade-in-up {
    animation: fadeInUp 0.4s ease-out both;
  }

  /* Staggered delay utilities for lists */
  .stagger-1 { animation-delay: 50ms; }
  .stagger-2 { animation-delay: 100ms; }
  .stagger-3 { animation-delay: 150ms; }
  .stagger-4 { animation-delay: 200ms; }
  .stagger-5 { animation-delay: 250ms; }

  /* Smooth tab switching indicator */
  .tab-indicator {
    @apply transition-all duration-200 ease-in-out;
  }

  /* Category badge palette (global + stable across all pages) */
  .badge-unified-radius {
    border-radius: 9999px;
  }

  .badge-cat-base {
    border-width: 1px;
    border-style: solid;
  }

  .badge-cat-role-host { border-color: #93c5fd; background: #dbeafe; color: #1e3a8a; }
  .badge-cat-role-provider { border-color: #fdba74; background: #ffedd5; color: #9a3412; }
  .badge-cat-role-admin { border-color: #c4b5fd; background: #ede9fe; color: #5b21b6; }
  .badge-cat-role-employee { border-color: #67e8f9; background: #cffafe; color: #0e7490; }
  .badge-cat-role-moderator { border-color: #a5b4fc; background: #e0e7ff; color: #312e81; }
  .badge-cat-role-default { border-color: #cbd5e1; background: #f1f5f9; color: #334155; }

  .badge-cat-plan-light { border-color: #94a3b8; background: #f1f5f9; color: #334155; }
  .badge-cat-plan-growth { border-color: #60a5fa; background: #eff6ff; color: #1d4ed8; }
  .badge-cat-plan-expanding { border-color: #e879f9; background: #fdf4ff; color: #a21caf; }
  .badge-cat-plan-default { border-color: #cbd5e1; background: #f1f5f9; color: #334155; }

  .badge-cat-status-active { border-color: #5eead4; background: #ccfbf1; color: #115e59; }
  .badge-cat-status-available { border-color: #5eead4; background: #ccfbf1; color: #115e59; }
  .badge-cat-status-booked { border-color: #fdba74; background: #ffedd5; color: #9a3412; }
  .badge-cat-status-verified { border-color: #5eead4; background: #ccfbf1; color: #115e59; }
  .badge-cat-status-password-set { border-color: #fcd34d; background: #fef3c7; color: #92400e; }
  .badge-cat-status-pending { border-color: #fdba74; background: #ffedd5; color: #9a3412; }
  .badge-cat-status-accepted { border-color: #34d399; background: #d1fae5; color: #065f46; }
  .badge-cat-status-declined { border-color: #fda4af; background: #ffe4e6; color: #9f1239; }
  .badge-cat-status-approved { border-color: #2dd4bf; background: #ccfbf1; color: #134e4a; }
  .badge-cat-status-rejected { border-color: #fca5a5; background: #fee2e2; color: #991b1b; }
  .badge-cat-status-connected { border-color: #a3e635; background: #ecfccb; color: #3f6212; }
  .badge-cat-status-configured { border-color: #f9a8d4; background: #fce7f3; color: #831843; }
  .badge-cat-status-error { border-color: #fda4af; background: #fff1f2; color: #7f1d1d; }
  .badge-cat-status-paused { border-color: #e9d5ff; background: #faf5ff; color: #7e22ce; }
  .badge-cat-status-inactive { border-color: #ddd6fe; background: #f5f3ff; color: #6d28d9; }
  .badge-cat-status-current { border-color: #a3e635; background: #ecfccb; color: #3f6212; }
  .badge-cat-status-selected { border-color: #bef264; background: #f7fee7; color: #4d7c0f; }
  .badge-cat-status-select { border-color: #bae6fd; background: #f0f9ff; color: #0369a1; }
  .badge-cat-status-email-verified { border-color: #67e8f9; background: #ecfeff; color: #155e75; }
  .badge-cat-status-email-not-verified { border-color: #fecaca; background: #fef2f2; color: #991b1b; }
  .badge-cat-status-confirmed { border-color: #6ee7b7; background: #ecfdf5; color: #065f46; }
  .badge-cat-status-checked-in { border-color: #93c5fd; background: #eff6ff; color: #1e3a8a; }
  .badge-cat-status-canceled { border-color: #fbcfe8; background: #fdf2f8; color: #9d174d; }
  .badge-cat-status-suspended { border-color: #c4b5fd; background: #f3e8ff; color: #6b21a8; }
  .badge-cat-status-blocked { border-color: #fca5a5; background: #ffe4e6; color: #9f1239; }
  .badge-cat-status-default { border-color: #cbd5e1; background: #f8fafc; color: #334155; }

  .badge-cat-type-cleaning { border-color: #93c5fd; background: #e0f2fe; color: #0c4a6e; }
  .badge-cat-type-maintenance { border-color: #fdba74; background: #ffedd5; color: #9a3412; }
  .badge-cat-type-company { border-color: #99f6e4; background: #ccfbf1; color: #134e4a; }
  .badge-cat-type-freelancer { border-color: #fde68a; background: #fef9c3; color: #854d0e; }
  .badge-cat-type-event { border-color: #c7d2fe; background: #e0e7ff; color: #3730a3; }
  .badge-cat-type-default { border-color: #cbd5e1; background: #f8fafc; color: #334155; }

  .badge-cat-env-staging { border-color: #bae6fd; background: #e0f7ff; color: #075985; }
  .badge-cat-env-production { border-color: #f9a8d4; background: #fdf2f8; color: #831843; }
  .badge-cat-env-default { border-color: #cbd5e1; background: #f8fafc; color: #334155; }

  .badge-cat-method-get { border-color: #86efac; background: #ecfdf3; color: #166534; }
  .badge-cat-method-post { border-color: #fcd34d; background: #fff7ed; color: #92400e; }
  .badge-cat-method-put { border-color: #c4b5fd; background: #f5f3ff; color: #6d28d9; }
  .badge-cat-method-patch { border-color: #99f6e4; background: #f0fdfa; color: #134e4a; }
  .badge-cat-method-delete { border-color: #fca5a5; background: #fff1f2; color: #9f1239; }
  .badge-cat-method-default { border-color: #cbd5e1; background: #f8fafc; color: #334155; }

  .badge-cat-default { border-color: #cbd5e1; background: #f8fafc; color: #334155; }

  /* ─── Portal UI (shared spacing + typography) ───────────── */
  .portal-page {
    @apply px-4 py-4 pb-8 md:p-6;
  }

  .portal-page-narrow {
    @apply max-w-2xl mx-auto space-y-4;
  }

  .portal-header {
    @apply flex items-center gap-2.5 mb-6 py-1;
  }

  .portal-title {
    @apply text-lg font-semibold text-black;
  }

  .portal-eyebrow {
    @apply text-xs font-semibold uppercase tracking-wider text-muted-foreground;
  }

  .portal-card {
    @apply p-4 space-y-4;
  }

  .portal-label {
    @apply text-xs text-muted-foreground flex items-center gap-1.5;
  }

  /* ─── Chat UI (mobile composer above bottom nav) ────────── */
  .has-bottom-nav {
    --bottom-nav-offset: 64px;
  }
  @media (min-width: 768px) {
    .has-bottom-nav {
      --bottom-nav-offset: 0px;
    }
  }

  .chat-composer {
    @apply border-t bg-background px-4 py-3;
    position: sticky;
    bottom: 0;
    z-index: 50;
  }

  @media (max-width: 767px) {
    .chat-composer {
      position: fixed;
      left: 0;
      right: 0;
      bottom: var(--bottom-nav-offset, 0px);
      padding-bottom: calc(0.75rem + env(safe-area-inset-bottom));
    }

    .chat-scroll {
      padding-bottom: calc(var(--bottom-nav-offset, 0px) + 84px + env(safe-area-inset-bottom));
    }
  }
}

/* ─── Keyframes ─────────────────────────────────────────── */
@keyframes cardEntrance {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ─── Reduced Motion ────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
